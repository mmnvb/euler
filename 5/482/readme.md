$ABC$ is an integer sided triangle with incenter $I$ and perimeter $p$.
The segments $IA$, $IB$ and $IC$ have integral length as well. 


Let $L = p + |IA| + |IB| + |IC|$. 


Let $S(P) = \sum L$ for all such triangles where $p \le P$. For example, $S(10^3) = 3619$.


Find $S(10^7)$.